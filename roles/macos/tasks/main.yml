---
# macOS-specific tasks

- name: Create macOS-specific directories
  ansible.builtin.file:
    path: "{{ item }}"
    state: directory
    mode: '0755'
  loop:
    - "{{ ansible_env.HOME }}/.config/aerospace"
    - "{{ ansible_env.HOME }}/Library/Application Support/chatterino/Settings"

- name: Symlink macOS-specific configuration files
  ansible.builtin.file:
    src: "{{ ansible_env.PWD }}/{{ item.src }}"
    dest: "{{ ansible_env.HOME }}/{{ item.dest | default(item.src) }}"
    state: link
    force: "{{ item.force | default(false) }}"
  loop:
    - { src: ".hushlogin" }
    - { src: "screensaver.workflow" }
    - { src: ".config/alacritty/macos.yml", dest: ".config/alacritty/os.yml" }
    - { src: ".config/aerospace/aerospace.toml" }
    - { src: ".local/share/chatterino/Settings/commands.json", dest: "Library/Application Support/chatterino/Settings/commands.json" }
    - { src: ".local/share/chatterino/Settings/window-layout.json", dest: "Library/Application Support/chatterino/Settings/window-layout.json" }
