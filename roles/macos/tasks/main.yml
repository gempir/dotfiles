---
- name: Create macOS-specific directories
  ansible.builtin.file:
    path: "{{ item }}"
    state: directory
    mode: '0755'
  loop:
    - "~/.config/aerospace"
    - "~/Library/Application Support/chatterino/Settings"

- name: Symlink macOS-specific configuration files
  ansible.builtin.file:
    src: "{{ role_path }}/files/{{ item.src }}"
    dest: "~/{{ item.dest | default(item.src) }}"
    state: link
    force: "{{ item.force | default(false) }}"
  loop:
    - { src: ".hushlogin" }
    - { src: "screensaver.workflow" }
    - { src: ".config/alacritty/macos.toml", dest: ".config/alacritty/os.toml" }
    - { src: ".config/aerospace/aerospace.toml" }
    - { src: ".local/share/chatterino/Settings/commands.json", dest: "Library/Application Support/chatterino/Settings/commands.json" }
    - { src: ".local/share/chatterino/Settings/window-layout.json", dest: "Library/Application Support/chatterino/Settings/window-layout.json" }
